---
layout: default
title: firefly
parent: Hyperledger Labs
grand_parent: Pull Requests
has_children: false
permalink: /pull-requests/hyperledger-labs/firefly
---

# firefly <span class="fs-3 right-align">[GitHub](https://github.com/hyperledger-labs/firefly){: .btn .mr-4 }</span>


<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger-labs/firefly/pull/118" class=".btn">#118</a>
            </td>
            <td>
                <b>
                    update explorer to v0.1.4
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2021-07-06 18:56:23 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger-labs/firefly/pull/114" class=".btn">#114</a>
            </td>
            <td>
                <b>
                    Helm Chart for FireFly OS
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                Provides a simple Helm chart for deploying FireFly Core and DX. Features simple options for templating the `firefly.core` config as a `Secret`, as well as more open-ended overrides for future plugins, more complicated scenarios, etc.

DX can have mTLS certificate autogenerated and managed via [cert-manager](https://github.com/jetstack/cert-manager) for simplicity.

Includes a GHA workflow that uses [chart-testing](https://github.com/helm/chart-testing) and [KinD](https://kind.sigs.k8s.io/) for chart linting and "integration" testing i.e. do pods get installed and come up.

# TODOs
- [x] Get integration test passing
- [ ] Liveness / readiness probes
- [x] Log level options
- Follow-up Issues
  - [ ] Proper chart packaging and releases via GH Pages
  - [ ] Open-ended question for docs / automation around blockchain initialization and contracts
  - [ ] Init containers for ensuring each plugin interface is up i.e. Postgres, ethconnect, dx, IPFS
- Docs
  - [ ] README.md
  - [x] templates/NOTES.txt
  - [ ] Comments in values.yaml
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2021-07-02 14:48:33 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger-labs/firefly/pull/113" class=".btn">#113</a>
            </td>
            <td>
                <b>
                    Docs update
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                An attempt at a set of docs that are sufficient for getting started:
- Key concepts - high level information and diagrams:
  - Multi-party systems
  - FireFly problem statement
  - The FireFly node
  - Blockchain protocols
  - Deterministic compute
  - Private data exchange
  - Broadcast / shared data
  - Multi-party process flow
- Getting Started - JSON snippets and step by step instructions:
  - Install the FireFly CLI
  - Start your environment
  - Run a sample
  - Privately send data
  - Broadcast data
  - Explore messages
  - Listen for events
  - Define a datatype

A bunch more to do, and there are some intentional teasers there with WIP pointing at big bits that are under development (like Tokens, and custom on-chain transactions).

Next steps in my mind on the docs are:
- Add the Request/Reply messaging & Webhooks info from #81 
- Start to fill out the `Reference` section - particularly for:
  - Options around events
  - Details of how different hashes in the system are generated

Additoinal:
- Some improvements to images (using SVGs and adding a click through to full-screen)
- Small tweak to the Swagger generation (it was showing URL with `/api/v1/api/v1` duplicated).
- Correct `batchID` to `batch` on the API for messages - fyi @shorsher 
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2021-07-02 05:04:44 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger-labs/firefly/pull/110" class=".btn">#110</a>
            </td>
            <td>
                <b>
                    Fix CSS on swagger docs
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                Previously the CSS for the Swagger UI was being overriden by the Jekyll theme. This made code blocks look like this:
<img width="497" src="https://user-images.githubusercontent.com/2530008/124167879-632db980-da72-11eb-9e80-40262ea194e2.png">

These changes fix the CSS so the Swagger theme is preserved and they now look like this:
<img width="497" alt="Screen Shot 2021-07-01 at 1 43 28 PM" src="https://user-images.githubusercontent.com/2530008/124167979-88bac300-da72-11eb-9234-3301c3706190.png">

            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2021-07-01 17:45:53 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger-labs/firefly/pull/107" class=".btn">#107</a>
            </td>
            <td>
                <b>
                    Swagger generation and docs integration
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                This PR adds semi-automatic swagger generation. The reason that it is semi-automatic, and not fully automated, is that modifying the API contract should be a conscious decision, so it should not happen without the developer specifically intending to do so.

To update the `swagger.yaml` file in the repo, just run
```
make swagger
```

If source code changes which will affect the API spec in any way (including descriptions, examples, etc) are made without also intentionally updating the swagger file, a unit test will fail, asking if you forgot to run `make swagger`.

Additionally, the swagger UI has now been integrated into the docs pages hosted on GitHub pages. This page loads the auto generated `swagger.yaml` file generated as described above.
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2021-07-01 13:08:20 +0000 UTC
    </div>
</div>

