---
layout: default
title: solang
parent: Hyperledger Labs
grand_parent: Pull Requests
has_children: false
permalink: /pull-requests/hyperledger-labs/solang
---

# solang <span class="fs-3 right-align">[GitHub](https://github.com/hyperledger-labs/solang){: .btn .mr-4 }</span>


<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger-labs/solang/pull/951" class=".btn">#951</a>
            </td>
            <td>
                <b>
                    Add SPDX headers
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                Only for Rust files.

Signed-off-by: Ry Jones <ry@linux.com>
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2022-08-03 16:03:32 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger-labs/solang/pull/950" class=".btn">#950</a>
            </td>
            <td>
                <b>
                    Refactor builtin structs
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                This PR introduces a few changes to the builtin structs in Solang.

1. `Type::Struct(usize)` has changed to `Type::Struct(StructType)` to encompass both user defined structs and builtin structs.
2. Solana builtin structs are now held in a new data structure. We can easily retrieve their `StructDecl` data using `StructType::get_definition`. This works also for user defined structs.
3. `codegen::Expression::ExternalFunction` has been eliminated, because I replaced it by a `StructLiteral` of `Type::Struct(StructType::ExternalFunction)`.
4. External function was defined as a struct of `{address, selector}`. I changed it to `{selector, address}` to coincide with its encoding form.

There was an idea to get rid of `Type::ExternalFunction` in favor of `Type::Struct(StructDecl::ExternalFunction)` in codegen, however, this would mean boilerplate code for converting types allowed in the AST to types allowed in codegen. In addition, a large refactoring in `cfg.vars` was needed to avoid mismatching types. Thus, this has not been done.
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2022-08-03 12:40:34 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger-labs/solang/pull/949" class=".btn">#949</a>
            </td>
            <td>
                <b>
                    Add debug information to LLVM Instructions
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                Fixes https://github.com/hyperledger-labs/solang/issues/584

# Description
- Add debug information to functions and instructions of the LLVM IR generated by `solang`.
- The return instruction `ret` currently does not have the debug location. But it is the case that the return `ret` instruction does not have the corresponding Solidity program statement. It is a special case when it is generated by `solang`.
- Refer to: https://github.com/hyperledger-labs/solang/blob/d05885270708ab822716300f59c6ee1624a5adb3/src/emit/mod.rs#L3404-L3405

# How Has This PR Been Tested?

Please describe the tests that you ran to verify your changes. Please also note any relevant details for your test configuration.

- [x] examples/example.sol
- [x] examples/flipper.sol
- [x] examples/increment.sol
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2022-08-03 02:54:48 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger-labs/solang/pull/947" class=".btn">#947</a>
            </td>
            <td>
                <b>
                    Allow seeds to be passed to external calls for program signing
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                This adds the seeds parameter to external calls. This does not enable creating PDA style contracts yet, that will come in another PR.

This PR simply adds the seeds to `contract.function{seeds: [ [ seed1 ], [ [ seed2 ]}(arg1, arg2);`.
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2022-08-02 15:10:48 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger-labs/solang/pull/946" class=".btn">#946</a>
            </td>
            <td>
                <b>
                    Bump solang-parser version for crate publish
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                Foundry would like a new version
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2022-08-02 15:03:47 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger-labs/solang/pull/945" class=".btn">#945</a>
            </td>
            <td>
                <b>
                    Implement assignment to selector and address in Yul
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                This PR implements assignment to an external function's selector and address in Yul, using the existing infrastructure in Solang.
The logic behind this is going to be used for Borsh decoding and brought up issue #944.
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2022-08-01 13:31:42 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger-labs/solang/pull/943" class=".btn">#943</a>
            </td>
            <td>
                <b>
                    Merge readbuffer builtins
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                This PR merges all the `codegen::Builtin::Read<type>` builtin type with a single `codegen::Builitin::ReadFromBuffer`, because they are all implemented equally in emit. This streamlines the development of `abi.decode` with Borsh encoding.
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2022-07-28 17:27:44 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger-labs/solang/pull/942" class=".btn">#942</a>
            </td>
            <td>
                <b>
                    Enable initialization of arrays with array literals
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                This PR enables the initialization of both dynamic memory and dynamic storage arrays with array literals. The limitation is that this works only for single dimensional arrays. It fixes issue #810.
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2022-07-28 14:40:41 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger-labs/solang/pull/941" class=".btn">#941</a>
            </td>
            <td>
                <b>
                    Deploy does not want the program account
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                This was changed in @solana/solidity 0.0.20 but the example here was not
updated.

Signed-off-by: Sean Young <sean@mess.org>
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2022-07-28 13:52:17 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger-labs/solang/pull/940" class=".btn">#940</a>
            </td>
            <td>
                <b>
                    Update installation instructions for MacOS
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                This PR adds the new installation instructions for MacOS on our documentation and our readme file. It also adds a new item to the release checklist to remind us of updating the cask file at each new release.
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2022-07-28 12:54:59 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger-labs/solang/pull/939" class=".btn">#939</a>
            </td>
            <td>
                <b>
                    Update substrate links
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                All the links were broken.

Signed-off-by: Sean Young <sean@mess.org>
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2022-07-28 11:08:49 +0000 UTC
    </div>
</div>

