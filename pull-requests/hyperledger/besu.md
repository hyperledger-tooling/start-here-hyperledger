---
layout: default
title: besu
parent: Hyperledger
grand_parent: Pull Requests
has_children: false
permalink: /pull-requests/hyperledger/besu
---

# besu <span class="fs-3 right-align">[GitHub](https://github.com/hyperledger/besu){: .btn .mr-4 }</span>


<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger/besu/pull/5605" class=".btn">#5605</a>
            </td>
            <td>
                <b>
                    [4844] Add VersionedHashes to TransactionCompleteResult
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                5604-add-VersionedHashes-transaction-result
## PR description

## Fixed Issue(s)
fixes #5604 
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2023-06-15 05:59:50 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger/besu/pull/5603" class=".btn">#5603</a>
            </td>
            <td>
                <b>
                    [4844] Increase blob sidecar size
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                Increase blob sidecar size
## PR description

## Fixed Issue(s)
fixes #5590 
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2023-06-15 05:02:46 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger/besu/pull/5601" class=".btn">#5601</a>
            </td>
            <td>
                <b>
                    [MINOR] Move noisy Pipeline log to debug
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                <nil>
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2023-06-14 22:30:28 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger/besu/pull/5600" class=".btn">#5600</a>
            </td>
            <td>
                <b>
                    metrics - migrate tests from Junit4 to Junit5
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                ## PR description
metrics Tests
Added dependency for junit.jupiter (junit5) and Removed dependency on junit 4
Migrated test from junit4 to junit5

## Fixed Issue(s)
https://github.com/hyperledger/besu/issues/5562
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2023-06-14 17:26:48 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger/besu/pull/5598" class=".btn">#5598</a>
            </td>
            <td>
                <b>
                    EnclaveFactoryTest - migrate tests from Junit4 to Junit5
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                ## PR description
EnclaveFactoryTest

Added dependency for junit.jupiter (junit5)
Removed dependency on junit 4
Migrated test from junit4 to junit5

## Fixed Issue(s)
https://github.com/hyperledger/besu/issues/5566
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2023-06-14 12:27:23 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger/besu/pull/5594" class=".btn">#5594</a>
            </td>
            <td>
                <b>
                    Fix verification metadata for spotless task
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                <!-- Thanks for sending a pull request! Please check out our contribution guidelines: -->
<!-- https://github.com/hyperledger/besu/blob/main/CONTRIBUTING.md -->

## PR description

## Fixed Issue(s)
<!-- Please link to fixed issue(s) here using format: fixes #<issue number> -->
<!-- Example: "fixes #2" -->
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2023-06-13 10:49:57 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger/besu/pull/5593" class=".btn">#5593</a>
            </td>
            <td>
                <b>
                    Revert Console appender changes since it is managed programmatically
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                <!-- Thanks for sending a pull request! Please check out our contribution guidelines: -->
<!-- https://github.com/hyperledger/besu/blob/main/CONTRIBUTING.md -->

## PR description

Since the Console appender is managed programmatically, adding it in the default log4j2 configuration caused that every line is logged twice, reverting the configuration and thinking of a better way to manage updates to the Console configuration

            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2023-06-13 10:20:47 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger/besu/pull/5592" class=".btn">#5592</a>
            </td>
            <td>
                <b>
                    update pipeline
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                <!-- Thanks for sending a pull request! Please check out our contribution guidelines: -->
<!-- https://github.com/hyperledger/besu/blob/main/CONTRIBUTING.md -->

## PR description

## Fixed Issue(s)
<!-- Please link to fixed issue(s) here using format: fixes #<issue number> -->
<!-- Example: "fixes #2" -->
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2023-06-13 10:07:27 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger/besu/pull/5591" class=".btn">#5591</a>
            </td>
            <td>
                <b>
                    [4844] Increase blob throughput
                </b>
            </td>
        </tr>
        <tr>
            <td>
                <span class="chip">4844</span>
            </td>
            <td>
                ## PR description
Increase blob throughput according to spec

## Fixed Issue(s)
#5590 
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2023-06-13 07:44:22 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger/besu/pull/5588" class=".btn">#5588</a>
            </td>
            <td>
                <b>
                    [CHANGELOG] moved 5131 to the right version section
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                fixing an issue reported here https://discord.com/channels/905194001349627914/938504958909747250/1117975723366436924
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2023-06-13 05:54:06 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger/besu/pull/5586" class=".btn">#5586</a>
            </td>
            <td>
                <b>
                    [4844] Add dataGasUsed and excessDataGas to  Blockresult
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                ## PR description
This PR adds dataGasUsed and excessDataGas to the BlockResult
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2023-06-13 03:52:27 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger/besu/pull/5585" class=".btn">#5585</a>
            </td>
            <td>
                <b>
                    Revert "Update Tuweni to 2.4.1 (#5513)"
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                Besu nightly nodes showed threads blocked exceptions with DNS stack trace.

Reverting this library upgrade so that we can investigate further.

`
"@timestamp":"2023-06-13T01:06:02,046","level":"WARN","thread":"vertx-blocked-thread-checker","class":"BlockedThreadChecker","message":"Thread Thread[vert.x-eventloop-thread-1,5,main] has been blocked for 15888080 ms, time limit is 2000 ms","throwable":" io.vertx.core.VertxException: Thread blocked\n\tat java.base@17.0.7/jdk.internal.misc.Unsafe.park(Native Method)\n\tat java.base@17.0.7/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\n\tat app//kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:88)\n\tat app//kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)\n\tat app//kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)\n\tat app//kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:38)\n\tat app//kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)\n\tat app//org.apache.tuweni.discovery.DNSTimerTask.run(DNSDaemon.kt:89)\n\tat app//org.apache.tuweni.discovery.DNSDaemon$$Lambda$1330/0x0000000801603c80.handle(Unknown Source)\n\tat app//io.vertx.core.impl.VertxImpl$InternalTimerHandler.handle(VertxImpl.java:927)\n\tat app//io.vertx.core.impl.VertxImpl$InternalTimerHandler.handle(VertxImpl.java:903)\n\tat app//io.vertx.core.impl.EventLoopContext.emit(EventLoopContext.java:55)\n\tat app//io.vertx.core.impl.ContextBase.emit(ContextBase.java:239)\n\tat app//io.vertx.core.impl.ContextInternal.emit(ContextInternal.java:194)\n\tat app//io.vertx.core.impl.VertxImpl$InternalTimerHandler.run(VertxImpl.java:921)\n\tat app//io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\n\tat app//io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:159)\n\tat app//io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\n\tat app//io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\n\tat app//io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n\tat app//io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:406)\n\tat app//io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n\tat app//io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n\tat app//io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n\tat java.base@17.0.7/java.lang.Thread.run(Thread.java:833)\n"}
`
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2023-06-13 02:56:47 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger/besu/pull/5584" class=".btn">#5584</a>
            </td>
            <td>
                <b>
                    Use the node's configuration to decide if adding a peer with DNS in the enode is allowed
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                ## PR description
Uses the node configuration to decide if `admin_addPeer()` should allow enodes with DNS in them. Previously this was hard coded to DNS-disabled.

I had to flow the enode DNS configuration through from `RunnerBuilder` to the JSON RPC method factory so that AdminAddPeer` has access to it. It may be that this isn't necessary, but I couldn't see another way to do it.

## Fixed Issue(s)
Fixes https://github.com/hyperledger/besu/issues/5583
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2023-06-12 11:04:04 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger/besu/pull/5582" class=".btn">#5582</a>
            </td>
            <td>
                <b>
                    Migrate plugins module to Junit 5.0
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                Migrate the plugins module from JUnit 4.0 to JUnit 5.0\
#5559 
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2023-06-11 13:59:51 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger/besu/pull/5581" class=".btn">#5581</a>
            </td>
            <td>
                <b>
                    Migrate util module to JUnit 5.0
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                Migrate the util module from Junit 4.0 to Junit 5.0 
#5556 
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2023-06-11 13:18:21 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger/besu/pull/5575" class=".btn">#5575</a>
            </td>
            <td>
                <b>
                    Migrate EVM module to JUnit 5
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                <!-- Thanks for sending a pull request! Please check out our contribution guidelines: -->
<!-- https://github.com/hyperledger/besu/blob/main/CONTRIBUTING.md -->

## PR description

Migrate EVM module tests to JUnit 5.
Mostly parameterized test and mockito support changes.

## Fixed Issue(s)
<!-- Please link to fixed issue(s) here using format: fixes #<issue number> -->
<!-- Example: "fixes #2" -->
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2023-06-09 17:28:56 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger/besu/pull/5573" class=".btn">#5573</a>
            </td>
            <td>
                <b>
                    [MINOR] errorprone-checks - migrate to junit5
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                fixes #5565 
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2023-06-09 05:21:08 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger/besu/pull/5572" class=".btn">#5572</a>
            </td>
            <td>
                <b>
                    [MINOR] Datatypes - junit5
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                fixes #5567 
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2023-06-09 04:44:19 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger/besu/pull/5554" class=".btn">#5554</a>
            </td>
            <td>
                <b>
                    [4844] Add dataGasUsed and dataGasPrice to receipts for 4844 txs
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                ## PR description
[4844] Add dataGasUsed and dataGasPrice to receipts for 4844 txs

## Fixed Issue(s)
#5489
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2023-06-09 03:30:12 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger/besu/pull/5552" class=".btn">#5552</a>
            </td>
            <td>
                <b>
                    fix spotless
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                ## PR description
Fix spotless
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2023-06-08 18:18:28 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger/besu/pull/5551" class=".btn">#5551</a>
            </td>
            <td>
                <b>
                    Fix blob encoding/decoding for network issues
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                ## PR description
Fix encoding/decoding issues with Blob Transactions for network

            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2023-06-08 18:00:07 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger/besu/pull/5550" class=".btn">#5550</a>
            </td>
            <td>
                <b>
                    Renumber EOF and Transient storage
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                ## PR description

As per a recent ACD, the opcode numbers for EOF and Transient Storage have been updated.  Update the code and test cases for the new numbers.

Updated list https://hackmd.io/@shemnon/CancunOpcodeAllocation

## Fixed Issue(s)
<!-- Please link to fixed issue(s) here using format: fixes #<issue number> -->
<!-- Example: "fixes #2" -->
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2023-06-08 14:43:11 +0000 UTC
    </div>
</div>

<div>
    <table>
        <tr>
            <td>
                PR <a href="https://github.com/hyperledger/besu/pull/5548" class=".btn">#5548</a>
            </td>
            <td>
                <b>
                    Fix graphql storageAt for bonsai
                </b>
            </td>
        </tr>
        <tr>
            <td>
                
            </td>
            <td>
                <!-- Thanks for sending a pull request! Please check out our contribution guidelines: -->
<!-- https://github.com/hyperledger/besu/blob/main/CONTRIBUTING.md -->

## PR description
This PR adds a check to the AccountAdapter used by the graphQL suite to ensure that if the account is a bonsaiAccount we open a new snapshot to retrieve the storage slot requested.

## Fixed Issue(s)
<!-- Please link to fixed issue(s) here using format: fixes #<issue number> -->
<!-- Example: "fixes #2" -->
Fixes #5524
            </td>
        </tr>
    </table>
    <div class="right-align">
        Created At 2023-06-08 07:00:37 +0000 UTC
    </div>
</div>

